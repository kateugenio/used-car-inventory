<h1>Used Car Sales Inventory</h1>

<% flash.each do |type, msg| %>
  <div>
    <%= msg %>
  </div>
<% end %>

<% if can? :create, Vehicle %>
  <%= button_to "Add Vehicle", new_vehicle_path, method: :get %>
<% end %>

<table>
  <thead>
    <tr>
      <th scope="col">Make</th>
      <th scope="col">Model</th>
      <th scope="col">Condition</th>
      <th scope="col">Year</th>
      <th scope="col">Mileage</th>
      <th scope="col">Date Added</th>
      <th scope="col">Initial Price</th>
      <th scope="col">Current Price</th>
      <th scope="col">Location</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <% @vehicles.each do |vehicle| %>
      <tr>
        <td><%= vehicle.make %></td>
        <td><%= vehicle.model %></td>
        <td><%= vehicle.condition %></td>
        <td><%= vehicle.year %></td>
        <td><%= vehicle.mileage %></td>
        <td><%= vehicle.created_at %></td>
        <td><%= number_to_currency(vehicle.initial_price) %></td>
        <td><%= number_to_currency(vehicle.current_price) %></td>
        <td><%= vehicle.location %></td>
        <td colspan="2">
          <%= link_to 'Details', vehicle_path(vehicle) %>
          <% if can? :destroy, Vehicle %>
            <%= link_to 'Delete', vehicle_path(vehicle), method: :delete %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
